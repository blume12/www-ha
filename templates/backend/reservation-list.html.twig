{% extends "layout.html.twig" %}
{% block headline %}
    <h1>Reservierungen</h1>
{% endblock %}

{% block content %}

    {% if showSearchInput %}
        <h2>Reservierungen suchen</h2>
        <form action="{{ reservationSearchAction }}" method="post">
            <label for="reservationName">Reservierungsnummer / Name / E-Mail:</label>
            <input type="text" name="reservationName" class="width50" id="reservationName"
                   value="{{ reservationName }}"/>&nbsp;
            <input type="submit" value="Suchen"/>
        </form>
    {% endif %}
    {% if showNewReservationLink %}
        <h2>{{ programData.title }}</h2>
        <p>
            <span>Maximale Plätze: {{ countMax }}</span>
        </p>
        <p>
            <span>Anzahl der Reservierungen: {{ countReservation }}</span>
        </p>
        <p>
            <a href="{{ newReservationRoute }}">Neue Reservierung anlegen</a>
        </p>
    {% endif %}
    {% if reservationData %}

        <ul class="backendList reservation">
            <li class="head">
                <span class="status">Status</span>
                <span class="reservationNumber">ReservierungsNr</span>
                <span class="name">Name</span>
                <span class="email">Email</span>
                <span class="priceTotal">Gesamtpreis</span>
                <span class="reservationTime">Reserviert bis</span>
                <span class="row options">Optionen</span>
            </li>
            {% for reservation in reservationData %}
                <li class="{% if reservation.index is divisible by(2) %}firstLine{% else %}secondLine{% endif %}">
                    <span class="status">
                        <img src="/images/backend/status-{{ reservation.status }}.png" alt="Status"/>
                    </span>
                    <span class="reservationNumber">{{ reservation.reservationNumber }}</span>
                    <span class="name">
                        {% if reservation.firstname == '' and reservation.lastname == '' %}
                            <i>- intern -</i>
                            {% else %}

                            <strong>{{ reservation.firstname }} {{ reservation.lastname }}</strong>
                        {% endif %}
                    </span>
                    <span class="email">
                        {% if reservation.email == '' %}
                            <i>- intern -</i>
                        {% else %}
                            {{ reservation.email }}
                        {% endif %}
                    </span>
                    <span class="priceTotal">{{ reservation.priceTotal }}</span>
                    <span class="reservationTime">{{ reservation.reservationUntil }}</span>
                    <span class="row options">
                        <a href="{{ reservation.editRoute }}">bearbeiten</a>&nbsp;
                        <a href="{{ reservation.deleteRoute }}">löschen</a>
                    </span>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>
            Es liegen keine Reservierungen vor.
        </p>
    {% endif %}
{% endblock %}
